extends layout.pug
block append scripts
	script(src="/public/js/editmovie.js")
block content
	div.padding
		if movie != undefined
			h1= 'Edit movie'
		else
			h1= 'Add new movie'
		form(action="" method="post")
			div.formrow
				label(for="movie[title]") Movie title:
				if movie != undefined
					input(type="text" name="movie[title]" required value=movie.title)
				else
					input(type="text" name="movie[title]" required)

			div.formrow
				label(for="movie[description]") Description:
				if movie != undefined
					textarea(name="movie[description]")= movie.description
				else
					textarea(name="movie[description]")

			div.formrow
				label(for="movie[year]") Year:
				if movie != undefined
					input(type="number" min="1800" max="2050" name="movie[year]" value=movie.year)
				else
					input(type="number" min="1800" max="2050" name="movie[year]")
				
				
			div.formrow
				label(for="movie[director]") Director:
				if movie != undefined
					input(type="text" name="movie[director]" value=movie.director)
				else
					input(type="text" name="movie[director]")
				
			div.formrow
				label(for="movie[actors]") Actors:
				
				div#actorsRow
					if movie != undefined
						- var i = 0
						each a in movie.actors
							input(type="text" actorIndex=i name="movie[actors]["+i+"][name]" value=a.name)
							- i++
					else
						input(type="text" actorindex="0" name="movie[actors][0][name]")
						input(type="text" actorindex="1" name="movie[actors][1][name]")
						
				div#actorButtons
					button#addActorButton(type="button") +
					button#removeActorButton(type="button") -
			
			div.formrow
				if movie != undefined
				input(type="submit" value="Save movie")